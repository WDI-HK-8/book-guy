<navbar></navbar>


<div class="container">
  <div class="row">
    <div class="col-md-3">
      <p class="lead">Your requests</p>
      <div class="list-group" ng-init="tab = 1">
        <a ng-click="tab = 1" class="list-group-item">Incoming</a>
        <a ng-click="tab = 2" class="list-group-item">Outgoing</a>
      </div>
    </div>

    <div class="col-md-9">
      <div ng-show="tab === 1">
        <table st-table="incomings" st-safe-src="dataIncomings" class="table table-striped">
        	<thead>
        	<tr>
        		<th st-sort="bookTitle">Title</th>
        		<th st-sort="createdAt">Received</th>
        		<th st-sort="requestFrom">Sender</th>
        		<th st-sort="requestEmail">Contact</th>
        		<th>Email</th>
        	</tr>
        	<tr>
        		<th>
        			<input st-search="bookTitle" placeholder="Search for title" class="input-sm form-control" type="search"/>
        		</th>
        		<th colspan="4">
        			<input st-search placeholder="Global search" class="input-sm form-control" type="search"/>
        		</th>
        	</tr>
        	</thead>
        	<tbody>
        	<tr ng-repeat="incoming in incomings">
        		<td>{{incoming.bookTitle}}</td>
        		<td>{{incoming.createdAt | date:'short' }}</td>
        		<td>{{incoming.requestFrom}}</td>
        		<td>{{incoming.requestEmail}}</td>
        		<td><a ng-href="mailto:{{incoming.requestEmail}}">Email</a></td>
        	</tr>
        	</tbody>
        </table>


      </div>
      <div ng-show="tab === 2">
        <table st-table="outgoings" st-safe-src="dataOutgoings" class="table table-striped">
          <thead>
          <tr>
            <th st-sort="bookTitle">Title</th>
            <th st-sort="bookAuthor">Author</th>
            <th st-sort="bookPublisher">Publisher</th>
            <th st-sort="createdAt">Sent</th>
          </tr>
          <tr>
            <th>
              <input st-search="bookTitle" placeholder="Search for title" class="input-sm form-control" type="search"/>
            </th>
            <th colspan="4">
              <input st-search placeholder="Global search" class="input-sm form-control" type="search"/>
            </th>
          </tr>
          </thead>
          <tbody>
          <tr ng-repeat="outgoing in outgoings">
            <td>{{outgoing.bookTitle}}</td>
            <td>{{outgoing.bookAuthor}}</td>
            <td>{{outgoing.bookPublisher}}</td>
            <td>{{outgoing.createdAt  | date:'short' }}</td>
          </tr>
          </tbody>
        </table>

      </div>
    </div>
  </div>
</div>
